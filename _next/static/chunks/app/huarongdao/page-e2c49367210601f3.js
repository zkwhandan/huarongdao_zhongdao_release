(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[709],{8110:function(t,e,r){Promise.resolve().then(r.bind(r,9386))},9386:function(t,e,r){"use strict";r.r(e);var l=r(7437),i=r(2265),n=r(7194),s=r(4483);let o=t=>{(0,i.useEffect)(()=>{document.title=t})},c=t=>Math.floor(Math.random()*t),a=t=>{let e=[];for(let t=0;t<2;t++){e[t]=[];for(let r=0;r<4;r++){e[t][r]=[];for(let l=0;l<3;l++)e[t][r][l]=!0}}t.forEach(t=>{let r=1+(t[1]>1);0===t[0]&&(e[0][0][t[1]]=!1,e[0][1][1]=!1,e[1][r][0]=!1),2===t[0]&&(e[0][3][t[1]]=!1,e[0][2][1]=!1,e[1][r][2]=!1),1===t[0]&&(e[1][0][t[1]]=!1,e[1][1][1]=!1,e[0][r][0]=!1),3===t[0]&&(e[1][3][t[1]]=!1,e[1][2][1]=!1,e[0][r][2]=!1)});for(let t=0;t<6;t++)e[c(2)][1+c(2)][c(3)]=!1;let r=[];for(let t=0;t<2;t++)for(let i=0;i<4;i++)for(let n=0;n<3;n++)e[t][i][n]&&(t?r.push((0,l.jsx)("rect",{x:100*i,y:100*n+1,width:"10",height:"108",fill:"white"},"".concat(t,"-").concat(i,"-").concat(n))):r.push((0,l.jsx)("rect",{x:100*n+1,y:100*i,width:"108",height:"10",fill:"white"},"".concat(t,"-").concat(i,"-").concat(n))));return(0,l.jsx)("svg",{viewBox:"0 0 310 310",children:r})},h=function(t,e,r){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=(0,l.jsx)("div",{style:{width:e,height:e},children:a(t)});return r&&(n=(0,l.jsx)("div",{style:{width:e,height:e}})),{empty:r,target:i,exits:t,block:n}};function d(t){let{startTime:e,stop:r=!1}=t,[n,s]=(0,i.useState)(0);return(0,i.useEffect)(()=>{let t;return t=setInterval(()=>{r||s((Date.now()-e)/1e3)},100),()=>{clearInterval(t)}},[e,r]),(0,l.jsxs)("span",{children:[Math.floor(n/60).toString().padStart(2,"0"),":",Math.floor(n%60).toString().padStart(2,"0")]})}e.default=()=>{let[t,e]=(0,i.useState)([]),[r,a]=(0,i.useState)(!1),[x,f]=(0,i.useState)(0),[p,g]=(0,i.useState)(!0),u=t=>{let r=Math.min(.8*window.innerWidth,window.innerHeight-300)/t,l=Array.from({length:t},(e,l)=>Array.from({length:t},(e,i)=>{let n=c(4),s=(n+1+c(3))%4;return h([[n,c(3)],[s,c(3)]],r,l===t-1&&i===t-1)})),i=[-1,0,2,1];for(;i[0]!==t-1||i[1]!=t-2;){let e=[i[0]+(2==i[2]),i[1]+(3==i[2]),2+c(2),c(3)];e[0]===t-1&&(e[2]=3),e[1]===t-2&&(e[2]=2),e[0]===t-1&&e[1]===t-2&&(e[3]=1);let n=h([[i[2]-2,i[3]],[e[2],e[3]]],r,!1,!0);for(;;){let e=[c(t-1),c(t-1)];if(!l[e[0]][e[1]].target){l[e[0]][e[1]]=n;break}}i=e}j(l,[-1,0,2,1])?u(t):(j(l,[t,t-2,0,1],2),e(l),f(Date.now()),g(!1))},j=function(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,l=t.length;1==r&&t.forEach(t=>t.forEach(t=>t.target=!1));let i=e;for(;;){let e=[i[0],i[1]];if(i[2]%2==0?e[0]+=i[2]-1:e[1]+=i[2]-2,e[0]<0||e[0]>=l||e[1]<0||e[1]>=l)break;let n=t[e[0]][e[1]];if(-1!=i[0]&&i[0]!=l){let e=t[i[0]][i[1]];e.empty||(e.target=r)}if(n.empty||(n.exits.forEach(t=>{2==Math.abs(t[0]-i[2])&&t[1]==i[3]||e.push(...t)}),4!=e.length))break;i=e}return String(i)===String([l-1,l-2,2,1])?(t[i[0]][i[1]].target=r,!0):null},y=(r,l)=>{let i=t.length,n=[...t],s=-1,o=-1,c=null;for(let t=0;t<i;t++)for(let e=0;e<i;e++)if(n[t][e].empty){s=t,o=e,c=n[t][e];break}if(-1!==s&&(s===r||o===l)){if(r<s)for(let t=s;t>r;t--)n[t][l]=n[t-1][l];else if(r>s)for(let t=s;t<r;t++)n[t][l]=n[t+1][l];else if(l<o)for(let t=o;t>l;t--)n[r][t]=n[r][t-1];else if(l>o)for(let t=o;t<l;t++)n[r][t]=n[r][t+1];n[r][l]=c,j(n,[-1,0,2,1])?(a(!0),g(!0)):j(n,[i,i-2,0,1],2),e(n)}},[b,m]=(0,i.useState)(!0),v=t=>{m(!1),u(t)},[w,k]=(0,i.useState)(!1);return o("最强大脑\xb7华容道中道"),(0,l.jsxs)("div",{style:{textAlign:"center",background:"radial-gradient(circle, rgb(127 144 235) 0%, rgb(1 66 142) 100%)",height:"100vh",color:"white"},children:[(0,l.jsx)("h1",{style:{paddingTop:"5vh"},children:"华容道中道"}),(0,l.jsxs)("div",{children:["\uD83C\uDFC1 ",(0,l.jsxs)("span",{style:{paddingRight:"10vw"},children:[t.length," \xd7 ",t.length]}),"⏰",(0,l.jsx)("span",{style:{display:"inline-block",minWidth:"5ch"},children:(0,l.jsx)(d,{startTime:x,stop:p})})]}),(0,l.jsxs)("div",{hidden:b,children:[(0,l.jsx)("table",{style:{border:"4px solid gray",margin:"5vh auto",borderSpacing:"4px"},children:(0,l.jsxs)("tbody",{children:[(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{}),(0,l.jsx)("td",{children:(0,l.jsx)("span",{style:{lineHeight:"0px",display:"block",position:"relative",bottom:"12px",fontSize:"24px"},children:"\uD83D\uDC31"})})]}),t.map((t,e)=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{}),t.map((t,r)=>(0,l.jsx)("td",{onClick:()=>y(e,r),style:{cursor:"pointer",background:1==t.target?"#00f9e84a":2==t.target?"#1df90059":""},children:t.block},"".concat(e,"-").concat(r))),(0,l.jsx)("td",{})]},e)),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{colspan:t.length-1}),(0,l.jsx)("td",{children:(0,l.jsx)("span",{style:{lineHeight:"0px",display:"block",position:"relative",top:"12px",fontSize:"24px"},children:"\uD83C\uDFE0"})})]})]})}),(0,l.jsx)(n.ZP,{type:"primary",onClick:()=>k(!0),style:{textAlign:"center",margin:"1vh 10vw 1vh 0"},children:"帮助"}),(0,l.jsx)(n.ZP,{type:"primary",onClick:()=>{m(!0)},style:{textAlign:"center",margin:"1vh 0 1vh"},children:"重新开始"})]}),(0,l.jsxs)(s.Z,{title:"请选择迷宫大小",style:{textAlign:"center"},open:b,closeIcon:!1,footer:null,children:[Array.from({length:8},(t,e)=>(e+=3,(0,l.jsxs)(n.ZP,{type:"primary",style:{width:"40%",margin:"2%"},onClick:()=>v(e),children:[e," \xd7 ",e]}))),(0,l.jsx)(n.ZP,{type:"primary",style:{width:"40%",margin:"2%"},onClick:()=>m(!1),children:"取消"})]}),(0,l.jsx)(s.Z,{title:"恭喜完成游戏",style:{textAlign:"center"},open:r,footer:null,onCancel:()=>a(!1),children:(0,l.jsx)(n.ZP,{type:"primary",style:{margin:"50px 0"},onClick:()=>{m(!0),a(!1)},children:"开始新游戏"})}),(0,l.jsxs)(s.Z,{title:"帮助",style:{textAlign:"center"},open:w,footer:null,onCancel:()=>k(!1),children:[(0,l.jsx)("b",{children:"目标："}),"帮\uD83D\uDC31找到回\uD83C\uDFE0的路",(0,l.jsx)("br",{}),(0,l.jsx)("img",{src:"/static/tips.jpg",style:{width:"50%"}}),(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),(0,l.jsx)("b",{children:"操作："}),"点击方块",(0,l.jsx)("br",{}),"同行/列方块向空白方块移动一格",(0,l.jsx)("img",{src:"/static/tips2.jpg",style:{width:"90%"}}),(0,l.jsx)("br",{}),(0,l.jsx)("br",{})]})]})}}},function(t){t.O(0,[483,971,69,744],function(){return t(t.s=8110)}),_N_E=t.O()}]);